Ambiente

fecha = registro
a√±o: 1900 .. 2099;
mes: 1..12;
dia: 1..31;
Fregistro;

reserva = registro
hotel:entero;
tipohab:("IND","DOB","SUITE")
nrores:entero
fechaing:fecha
cantnoches:entero
importe:real
Fregistro;

salida = registro
hotel:entero;
hdob:entero
hsui:entero
Fregistro;

reservas: archivo de reserva ordenado por hotel, tipohab y nrores
r: reserva
sal: archivo de salida ordenado por hotel
s: salida

noches, hnoches, hdob, hsui: entero
resgh : entero
resgth:("IND","DOB","SUITE")

Proceso

Abrir E/(reservas)
Leer(reservas,r)
Abrir /S(sal)
noches:=0
hnoches:=0
hdob:=0
hsui:=0
resgh := r.hotel
resgth := r.tipohab

Mientras No FDA(reservas) hacer
Si resgh <> r.hotel entonces
Corte_hotel
Sino
Si resgth <> r.tipohab entonces
Corte_tipohab
FinSi
FinSi

noches := noches + r.cantnoches

Leer(reservas,r)
FinMientras

Corte_hotel
Cerrar(reservas)
Cerrar(sal)
FinAccion

Procedimiento Corte_tipohab es
Escribir('Hotel',resgh,'Tipo Habitacion',resgth,'Noches reservadas',noches)
hnoches := hnoches + noches
Si resgth = 'DOB' entonces
hdob := noches
Sino
Si resgth = 'SUI' entonces
hsui := noches
FinSi
FinSi
noches := 0
resgth := r.tipohab
FinProcedimiento


Procedimiento Corte_hotel es
Corte_tipohab
Escribir('Hotel',resgh,'Noches reservadas',hnoches)
s.hotel := resgh
s.dob := hdob
s.sui := hsui
Escribir(sal,s)
Si hdob > hsui entonces
Escribir('Tiene + noches dobles que suites')
FinSi
hnoches:=0
resgh := r.hotel
FinProcedimiento
